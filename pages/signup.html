<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Karu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.0/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .glass-card {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .floating-animation {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        .step-indicator {
            transition: all 0.3s ease;
        }
        .step-active {
            transform: scale(1.1);
        }
    </style>
</head>
<body class="min-h-screen gradient-bg flex items-center justify-center relative overflow-hidden py-8">
    <!-- Background Elements -->
    <div class="absolute inset-0 overflow-hidden">
        <div class="floating-animation absolute top-20 left-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"></div>
        <div class="floating-animation absolute bottom-20 right-20 w-96 h-96 bg-white/5 rounded-full blur-3xl" style="animation-delay: -3s;"></div>
    </div>

    <!-- Signup Card -->
    <div class="relative z-10 w-full max-w-2xl mx-auto px-6">
        <div class="glass-card rounded-3xl shadow-2xl p-8">
            <!-- Header -->
            <div class="text-center mb-8">
                <div class="flex items-center justify-center space-x-3 mb-6">
                    <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center">
                        <i data-lucide="heart" class="w-7 h-7 text-primary-content"></i>
                    </div>
                    <span class="text-3xl font-bold text-primary">Karu</span>
                </div>
                <h1 class="text-2xl font-bold text-base-content mb-2">Criar Nova Conta</h1>
                <p class="text-base-content/70">Junte-se à nossa comunidade de cuidado neonatal</p>
            </div>

            <!-- Step Indicator -->
            <div class="flex justify-center mb-8">
                <div class="flex items-center space-x-4">
                    <div class="step-indicator step-active flex items-center justify-center w-8 h-8 bg-primary text-primary-content rounded-full text-sm font-bold">
                        1
                    </div>
                    <div class="w-16 h-1 bg-primary/30"></div>
                    <div class="step-indicator flex items-center justify-center w-8 h-8 bg-base-300 text-base-content/50 rounded-full text-sm font-bold" id="step2">
                        2
                    </div>
                    <div class="w-16 h-1 bg-base-300" id="progress2"></div>
                    <div class="step-indicator flex items-center justify-center w-8 h-8 bg-base-300 text-base-content/50 rounded-full text-sm font-bold" id="step3">
                        3
                    </div>
                </div>
            </div>

            <!-- Step 1: Profile Type -->
            <div id="step1-content" class="space-y-6">
                <div class="text-center mb-6">
                    <h2 class="text-xl font-semibold text-base-content mb-2">Selecione seu perfil</h2>
                    <p class="text-base-content/70">Como você pretende usar a Karu?</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Professional Profile -->
                    <button type="button" 
                            class="profile-option p-6 border-2 border-base-300 rounded-xl hover:border-primary transition-all duration-300 text-left group"
                            data-profile="professional">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-primary/20 group-hover:bg-primary rounded-xl flex items-center justify-center transition-all duration-300">
                                <i data-lucide="user-check" class="w-6 h-6 text-primary group-hover:text-white transition-all duration-300"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-base-content group-hover:text-primary transition-colors">
                                    Profissional de Saúde
                                </h3>
                                <p class="text-sm text-base-content/70">
                                    Médicos, enfermeiros, gestores e outros profissionais
                                </p>
                            </div>
                        </div>
                        <div class="mt-4 text-xs text-base-content/60">
                            • Acesso ao dashboard completo<br>
                            • Gestão de pacientes<br>
                            • Relatórios e analytics
                        </div>
                    </button>

                    <!-- Family Profile -->
                    <button type="button" 
                            class="profile-option p-6 border-2 border-base-300 rounded-xl hover:border-secondary transition-all duration-300 text-left group"
                            data-profile="family">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-secondary/20 group-hover:bg-secondary rounded-xl flex items-center justify-center transition-all duration-300">
                                <i data-lucide="users" class="w-6 h-6 text-secondary group-hover:text-white transition-all duration-300"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-base-content group-hover:text-secondary transition-colors">
                                    Pais e Familiares
                                </h3>
                                <p class="text-sm text-base-content/70">
                                    Acompanhar o desenvolvimento do bebê
                                </p>
                            </div>
                        </div>
                        <div class="mt-4 text-xs text-base-content/60">
                            • Acompanhamento do bebê<br>
                            • Orientações personalizadas<br>
                            • Comunicação com equipe médica
                        </div>
                    </button>
                </div>

                <div class="flex justify-end">
                    <button type="button" class="btn btn-primary" onclick="nextStep()" id="nextBtn1" disabled>
                        Continuar
                        <i data-lucide="arrow-right" class="w-4 h-4"></i>
                    </button>
                </div>
            </div>

            <!-- Step 2: Personal Information -->
            <div id="step2-content" class="space-y-6 hidden">
                <div class="text-center mb-6">
                    <h2 class="text-xl font-semibold text-base-content mb-2">Informações Pessoais</h2>
                    <p class="text-base-content/70">Preencha seus dados básicos</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text font-medium">Nome Completo *</span>
                        </label>
                        <div class="relative">
                            <input type="text" 
                                   placeholder="Seu nome completo" 
                                   class="input input-bordered w-full pl-12"
                                   id="fullName"
                                   required />
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i data-lucide="user" class="w-5 h-5 text-base-content/50"></i>
                            </div>
                        </div>
                    </div>

                    <div class="form-control">
                        <label class="label">
                            <span class="label-text font-medium">CPF *</span>
                        </label>
                        <div class="relative">
                            <input type="text" 
                                   placeholder="000.000.000-00" 
                                   class="input input-bordered w-full pl-12"
                                   id="cpf"
                                   required />
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i data-lucide="credit-card" class="w-5 h-5 text-base-content/50"></i>
                            </div>
                        </div>
                    </div>

                    <div class="form-control">
                        <label class="label">
                            <span class="label-text font-medium">Email *</span>
                        </label>
                        <div class="relative">
                            <input type="email" 
                                   placeholder="seu@email.com" 
                                   class="input input-bordered w-full pl-12"
                                   id="email"
                                   required />
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i data-lucide="mail" class="w-5 h-5 text-base-content/50"></i>
                            </div>
                        </div>
                    </div>

                    <div class="form-control">
                        <label class="label">
                            <span class="label-text font-medium">Telefone *</span>
                        </label>
                        <div class="relative">
                            <input type="tel" 
                                   placeholder="(00) 00000-0000" 
                                   class="input input-bordered w-full pl-12"
                                   id="phone"
                                   required />
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i data-lucide="phone" class="w-5 h-5 text-base-content/50"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Professional specific fields -->
                <div id="professionalFields" class="space-y-4 hidden">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">Especialidade</span>
                            </label>
                            <select class="select select-bordered">
                                <option disabled selected>Selecione sua especialidade</option>
                                <option>Pediatria</option>
                                <option>Neonatologia</option>
                                <option>Enfermagem Neonatal</option>
                                <option>Fisioterapia</option>
                                <option>Nutrição</option>
                                <option>Psicologia</option>
                                <option>Gestão Hospitalar</option>
                                <option>Outro</option>
                            </select>
                        </div>

                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">Registro Profissional</span>
                            </label>
                            <input type="text" 
                                   placeholder="CRM, COREN, etc." 
                                   class="input input-bordered" />
                        </div>
                    </div>

                    <div class="form-control">
                        <label class="label">
                            <span class="label-text font-medium">Instituição</span>
                        </label>
                        <input type="text" 
                               placeholder="Hospital ou clínica onde trabalha" 
                               class="input input-bordered" />
                    </div>
                </div>

                <div class="flex justify-between">
                    <button type="button" class="btn btn-outline" onclick="prevStep()">
                        <i data-lucide="arrow-left" class="w-4 h-4"></i>
                        Voltar
                    </button>
                    <button type="button" class="btn btn-primary" onclick="nextStep()" id="nextBtn2">
                        Continuar
                        <i data-lucide="arrow-right" class="w-4 h-4"></i>
                    </button>
                </div>
            </div>

            <!-- Step 3: Account Setup -->
            <div id="step3-content" class="space-y-6 hidden">
                <div class="text-center mb-6">
                    <h2 class="text-xl font-semibold text-base-content mb-2">Configuração da Conta</h2>
                    <p class="text-base-content/70">Defina sua senha e finalize o cadastro</p>
                </div>

                <div class="space-y-4">
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text font-medium">Senha *</span>
                        </label>
                        <div class="relative">
                            <input type="password" 
                                   placeholder="Crie uma senha segura" 
                                   class="input input-bordered w-full pl-12 pr-12"
                                   id="password"
                                   required />
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i data-lucide="lock" class="w-5 h-5 text-base-content/50"></i>
                            </div>
                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                <button type="button" 
                                        class="text-base-content/50 hover:text-base-content transition-colors"
                                        onclick="togglePassword('password', 'toggleIcon1')">
                                    <i data-lucide="eye" class="w-5 h-5" id="toggleIcon1"></i>
                                </button>
                            </div>
                        </div>
                        <div class="label">
                            <span class="label-text-alt text-base-content/60">
                                Mínimo 8 caracteres, incluindo números e letras
                            </span>
                        </div>
                    </div>

                    <div class="form-control">
                        <label class="label">
                            <span class="label-text font-medium">Confirmar Senha *</span>
                        </label>
                        <div class="relative">
                            <input type="password" 
                                   placeholder="Confirme sua senha" 
                                   class="input input-bordered w-full pl-12 pr-12"
                                   id="confirmPassword"
                                   required />
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i data-lucide="lock" class="w-5 h-5 text-base-content/50"></i>
                            </div>
                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                <button type="button" 
                                        class="text-base-content/50 hover:text-base-content transition-colors"
                                        onclick="togglePassword('confirmPassword', 'toggleIcon2')">
                                    <i data-lucide="eye" class="w-5 h-5" id="toggleIcon2"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Terms and Conditions -->
                <div class="form-control">
                    <label class="label cursor-pointer justify-start">
                        <input type="checkbox" class="checkbox checkbox-primary mr-3" id="termsCheckbox" required />
                        <span class="label-text">
                            Eu aceito os 
                            <a href="#" class="text-primary hover:underline">Termos de Uso</a> e 
                            <a href="#" class="text-primary hover:underline">Política de Privacidade</a>
                        </span>
                    </label>
                </div>

                <div class="form-control">
                    <label class="label cursor-pointer justify-start">
                        <input type="checkbox" class="checkbox checkbox-primary mr-3" id="newsletterCheckbox" />
                        <span class="label-text">
                            Quero receber atualizações e novidades da Karu por email
                        </span>
                    </label>
                </div>

                <div class="flex justify-between">
                    <button type="button" class="btn btn-outline" onclick="prevStep()">
                        <i data-lucide="arrow-left" class="w-4 h-4"></i>
                        Voltar
                    </button>
                    <button type="submit" class="btn btn-primary" id="submitBtn">
                        <i data-lucide="user-check" class="w-4 h-4"></i>
                        Criar Conta
                    </button>
                </div>
            </div>

            <!-- Login Link -->
            <div class="text-center mt-8 pt-6 border-t border-base-content/10">
                <p class="text-base-content/70">
                    Já tem uma conta? 
                    <a href="login.html" class="text-primary font-medium hover:underline">
                        Faça login aqui
                    </a>
                </p>
            </div>
        </div>

        <!-- Back to Home -->
        <div class="text-center mt-6">
            <a href="index.html" class="text-white/80 hover:text-white transition-colors text-sm">
                <i data-lucide="arrow-left" class="w-4 h-4 inline mr-2"></i>
                Voltar ao início
            </a>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let selectedProfile = '';

        // Inicializar ícones
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        });

        // Profile selection
        document.querySelectorAll('.profile-option').forEach(option => {
            option.addEventListener('click', function() {
                // Remove selection from all options
                document.querySelectorAll('.profile-option').forEach(opt => {
                    opt.classList.remove('border-primary', 'border-secondary', 'bg-primary/5', 'bg-secondary/5');
                    opt.classList.add('border-base-300');
                });

                // Add selection to clicked option
                selectedProfile = this.dataset.profile;
                const nextBtn = document.getElementById('nextBtn1');
                
                if (selectedProfile === 'professional') {
                    this.classList.add('border-primary', 'bg-primary/5');
                    nextBtn.disabled = false;
                } else if (selectedProfile === 'family') {
                    this.classList.add('border-secondary', 'bg-secondary/5');
                    nextBtn.disabled = false;
                }
            });
        });

        // Step navigation
        function nextStep() {
            if (currentStep === 1) {
                document.getElementById('step1-content').classList.add('hidden');
                document.getElementById('step2-content').classList.remove('hidden');
                updateStepIndicator(2);
                
                // Show professional fields if needed
                if (selectedProfile === 'professional') {
                    document.getElementById('professionalFields').classList.remove('hidden');
                }
                
                currentStep = 2;
            } else if (currentStep === 2) {
                if (validateStep2()) {
                    document.getElementById('step2-content').classList.add('hidden');
                    document.getElementById('step3-content').classList.remove('hidden');
                    updateStepIndicator(3);
                    currentStep = 3;
                }
            }
        }

        function prevStep() {
            if (currentStep === 2) {
                document.getElementById('step2-content').classList.add('hidden');
                document.getElementById('step1-content').classList.remove('hidden');
                updateStepIndicator(1);
                currentStep = 1;
            } else if (currentStep === 3) {
                document.getElementById('step3-content').classList.add('hidden');
                document.getElementById('step2-content').classList.remove('hidden');
                updateStepIndicator(2);
                currentStep = 2;
            }
        }

        function updateStepIndicator(step) {
            // Reset all steps
            document.getElementById('step2').classList.remove('bg-primary', 'text-primary-content', 'step-active');
            document.getElementById('step3').classList.remove('bg-primary', 'text-primary-content', 'step-active');
            document.getElementById('progress2').classList.remove('bg-primary');
            
            document.getElementById('step2').classList.add('bg-base-300', 'text-base-content/50');
            document.getElementById('step3').classList.add('bg-base-300', 'text-base-content/50');
            document.getElementById('progress2').classList.add('bg-base-300');

            if (step >= 2) {
                document.getElementById('step2').classList.remove('bg-base-300', 'text-base-content/50');
                document.getElementById('step2').classList.add('bg-primary', 'text-primary-content', 'step-active');
                document.getElementById('progress2').classList.remove('bg-base-300');
                document.getElementById('progress2').classList.add('bg-primary');
            }
            
            if (step >= 3) {
                document.getElementById('step3').classList.remove('bg-base-300', 'text-base-content/50');
                document.getElementById('step3').classList.add('bg-primary', 'text-primary-content', 'step-active');
            }
        }

        function validateStep2() {
            const requiredFields = ['fullName', 'cpf', 'email', 'phone'];
            let isValid = true;

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    field.classList.add('input-error');
                    isValid = false;
                } else {
                    field.classList.remove('input-error');
                }
            });

            if (!isValid) {
                alert('Por favor, preencha todos os campos obrigatórios.');
            }

            return isValid;
        }

        function validateStep3() {
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const termsCheckbox = document.getElementById('termsCheckbox');

            let isValid = true;

            // Validate password
            if (password.length < 8) {
                document.getElementById('password').classList.add('input-error');
                isValid = false;
            } else {
                document.getElementById('password').classList.remove('input-error');
            }

            // Validate password match
            if (password !== confirmPassword) {
                document.getElementById('confirmPassword').classList.add('input-error');
                isValid = false;
            } else {
                document.getElementById('confirmPassword').classList.remove('input-error');
            }

            // Validate terms acceptance
            if (!termsCheckbox.checked) {
                isValid = false;
                alert('Você deve aceitar os Termos de Uso e Política de Privacidade.');
            }

            return isValid;
        }

        // Toggle password visibility
        function togglePassword(fieldId, iconId) {
            const passwordField = document.getElementById(fieldId);
            const toggleIcon = document.getElementById(iconId);
            
            if (passwordField.type === 'password') {
                passwordField.type = 'text';
                toggleIcon.setAttribute('data-lucide', 'eye-off');
            } else {
                passwordField.type = 'password';
                toggleIcon.setAttribute('data-lucide', 'eye');
            }
            
            // Re-initialize icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        // Form submission
        document.getElementById('submitBtn').addEventListener('click', function(e) {
            e.preventDefault();
            
            if (validateStep3()) {
                const submitBtn = this;
                const originalText = submitBtn.innerHTML;
                
                submitBtn.innerHTML = '<span class="loading loading-spinner loading-sm"></span> Criando conta...';
                submitBtn.disabled = true;
                
                // Simulate account creation
                setTimeout(() => {
                    alert('Conta criada com sucesso! Verifique seu email para ativar a conta.');
                    // window.location.href = 'login.html';
                    
                    // Reset button
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }, 3000);
            }
        });

        // Input formatting
        document.getElementById('cpf').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
            e.target.value = value;
        });

        document.getElementById('phone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/^(\d{2})(\d)/g, '($1) $2');
            value = value.replace(/(\d)(\d{4})$/, '$1-$2');
            e.target.value = value;
        });

        // Real-time validation
        document.getElementById('confirmPassword').addEventListener('input', function() {
            const password = document.getElementById('password').value;
            const confirmPassword = this.value;
            
            if (confirmPassword && password !== confirmPassword) {
                this.classList.add('input-error');
            } else {
                this.classList.remove('input-error');
            }
        });

        // Re-initialize icons after any DOM changes
        setTimeout(() => {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }, 1000);
    </script>
</body>
</html>